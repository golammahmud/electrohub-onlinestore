{% extends 'shop/base1.html'%}
{%block title%}search results{%endblock%}
{%block content%}

<div class="container">
    <div class="row">
        <div class=" col- col-sm-3 col-md- col-lg-3">
            <form method="get" action="{% url 'search' %}">
                <div class="columns is-multiline">
                    <div class="column is-4 mt-4">
                        <!-- <h2 class="is-size-5">Query</h2> -->

                        <div class="field">
                            <label>Search term</label>

                            <div class="control">
                                <input type="text" name="query" class="input" value="{{ query }}">
                            </div>
                        </div>
                        <div class="column is-4 mt-4">
                            <h3 class=" font-italic">Price range</h3>
    
                            <div class="field">
                                <label>From</label>
                                <div class="control">
                                    <input type="number" name="price_from" class="input" value="{{ price_from }}">
                                </div>
                            </div>
    
                            <div class="field">
                                <label>To</label>
                                <div class="control">
                                    <input type="number" name="price_to" class="input" value="{{ price_to }}">
                                </div>
                            </div>
                        </div>
                        <div class="field mt-4" >
                            <label>In stock</label>

                            <div class="control">
                                <input type="checkbox" name="instock"{% if instock %}checked="checked"{% endif %}>
                            </div>
                        </div>
                    </div>

                    <div class="column is-4 mt-2">
                        <h3 class="is-size-5 font-italic">Sorting</h3>

                        <div class="field">
                            <label>Select sorting criteria</label>

                            <div class="control">
                                <div class="select">
                                    <select name="sorting">
                                        <option value="-date_created"{% if sorting == '-date_created' %} selected{% endif %}>Newest first</option>
                                        <option value="price"{% if sorting == 'price' %} selected{% endif %}>Price low-high</option>
                                        <option value="-price"{% if sorting == '-price' %} selected{% endif %}>Price high-low</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="column is-12 mt-3">
                        <div class="field">
                            <div class="control">
                                <button class="button is-success">Search</button>
                            </div>
                        </div>
                    </div>
                </div>
             </form>
        </div>
        <div class="col- col-sm-9 col-md-12 col-lg-9">
            <h2 class='mt-4'>search result:</h2>
            {%if product|length < 1%}
                <p >No Search Results</p>
                Your Search Query- <b>{{query}} </b> is not matching any documents...
                <ul>
                    <li>
                        try different keyword
                    </li>
                </ul>
        
            {%endif%}
        
            
            {% with product as product_list %}
            {% include 'shop/list/list_product.html' %}
            {% endwith %}
        

        </div>
    </div>
    
   

</div>

{%endblock%}